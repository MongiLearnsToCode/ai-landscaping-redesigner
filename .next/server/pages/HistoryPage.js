"use strict";(()=>{var a={};a.id=521,a.ids=[220,521,636],a.modules={361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1379:(a,b,c)=>{c.r(b),c.d(b,{default:()=>f});var d=c(8732),e=c(2341);function f(){return(0,d.jsxs)(e.Html,{children:[(0,d.jsx)(e.Head,{}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.Main,{}),(0,d.jsx)(e.NextScript,{})]})]})}},2014:(a,b,c)=>{c.r(b),c.d(b,{config:()=>w,default:()=>s,getServerSideProps:()=>v,getStaticPaths:()=>u,getStaticProps:()=>t,handler:()=>E,reportWebVitals:()=>x,routeModule:()=>D,unstable_getServerProps:()=>B,unstable_getServerSideProps:()=>C,unstable_getStaticParams:()=>A,unstable_getStaticPaths:()=>z,unstable_getStaticProps:()=>y});var d={};c.r(d),c.d(d,{default:()=>q,dynamic:()=>o,getServerSideProps:()=>p});var e=c(3885),f=c(237),g=c(1413),h=c(1379),i=c(2533),j=c(8732);c(2015);var k=c(1302),l=c(8306);let m=({item:a,onView:b,onPin:c,onDelete:d})=>{let e=new Date(a.created_at).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});return(0,j.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden flex flex-col group transition-shadow duration-300 hover:shadow-xl",children:[(0,j.jsxs)("div",{className:"relative aspect-[4/3] w-full bg-gray-200 dark:bg-gray-700",children:[(0,j.jsx)(l.x,{src:a.redesigned_image_url,alt:`Redesign in ${a.style} style`}),(0,j.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent p-3 flex flex-col justify-end",children:[(0,j.jsx)("h4",{className:"text-white font-bold capitalize",children:a.style}),(0,j.jsx)("p",{className:"text-xs text-gray-300",children:e})]}),a.is_pinned&&(0,j.jsx)("div",{className:"absolute top-2 right-2 bg-amber-400 p-1.5 rounded-full shadow-md",children:(0,j.jsx)(k.yUp,{className:"h-4 w-4 text-white",fill:"currentColor"})})]}),(0,j.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 flex-grow flex flex-col justify-between",children:(0,j.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,j.jsx)("button",{onClick:()=>b(a),className:"w-full text-center bg-emerald-600 hover:bg-emerald-700 text-white text-xs md:text-sm font-semibold px-2 md:px-3 py-2 rounded-md transition-colors",children:"View"}),(0,j.jsxs)("div",{className:"absolute top-2 right-2 flex items-center space-x-2",children:[(0,j.jsx)("button",{onClick:b=>{b.stopPropagation(),c(a.id)},className:"p-1.5 rounded-full bg-black bg-opacity-50 hover:bg-opacity-75 transition-opacity duration-200",children:(0,j.jsx)(k.yUp,{className:`h-5 w-5 ${a.is_pinned?"text-amber-500 dark:text-amber-300":"text-gray-600 dark:text-gray-300"}`,fill:a.is_pinned?"currentColor":"none"})}),(0,j.jsx)("button",{onClick:b=>{b.stopPropagation(),d(a.id)},className:"p-1.5 rounded-full bg-black bg-opacity-50 hover:bg-opacity-75 transition-opacity duration-200 group",children:(0,j.jsx)(k.TBR,{className:"h-5 w-5 text-gray-600 dark:text-gray-300 group-hover:text-red-600 dark:group-hover:text-red-400"})})]})]})})]})};var n=c(9055);let o="force-dynamic";async function p(){return{props:{}}}let q=()=>{let{history:a,pinItem:b,deleteItem:c,viewFromHistory:d}=(0,n.W)();return(0,j.jsxs)("div",{className:"w-full",children:[(0,j.jsxs)("div",{className:"mb-6",children:[(0,j.jsx)("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"Your Redesign History"}),(0,j.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Pinned designs are saved indefinitely. Others are removed after 7 days."})]}),0===a.length?(0,j.jsxs)("div",{className:"text-center py-20 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[(0,j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 1v4m0 0h-4m4 0l-5-5"}),(0,j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 10h18M3 14h18M10 3v18M14 3v18"})]}),(0,j.jsx)("h3",{className:"mt-4 text-xl font-medium text-gray-700 dark:text-gray-300",children:"No History Yet"}),(0,j.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Create a new redesign, and it will show up here!"})]}):(0,j.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.map(a=>(0,j.jsx)(m,{item:a,onView:d,onPin:b,onDelete:c},a.id))})]})};var r=c(2289);let s=(0,g.M)(d,"default"),t=(0,g.M)(d,"getStaticProps"),u=(0,g.M)(d,"getStaticPaths"),v=(0,g.M)(d,"getServerSideProps"),w=(0,g.M)(d,"config"),x=(0,g.M)(d,"reportWebVitals"),y=(0,g.M)(d,"unstable_getStaticProps"),z=(0,g.M)(d,"unstable_getStaticPaths"),A=(0,g.M)(d,"unstable_getStaticParams"),B=(0,g.M)(d,"unstable_getServerProps"),C=(0,g.M)(d,"unstable_getServerSideProps"),D=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/HistoryPage",pathname:"/HistoryPage",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:i.default,Document:h.default},userland:d}),E=(0,r.U)({srcPage:"/HistoryPage",config:w,userland:d,routeModule:D,getStaticPaths:u,getStaticProps:t,getServerSideProps:v})},2015:a=>{a.exports=require("react")},2326:a=>{a.exports=require("react-dom")},3538:a=>{a.exports=require("@supabase/auth-helpers-nextjs")},3571:a=>{a.exports=require("@supabase/auth-helpers-react")},3873:a=>{a.exports=require("path")},4075:a=>{a.exports=require("zlib")},6060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},7910:a=>{a.exports=require("stream")},8732:a=>{a.exports=require("react/jsx-runtime")},9021:a=>{a.exports=require("fs")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[238,167,341,781,533],()=>b(b.s=2014));module.exports=c})();