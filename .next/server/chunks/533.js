exports.id=533,exports.ids=[533],exports.modules={410:(a,b,c)=>{"use strict";c.d(b,{D:()=>g,n:()=>h});var d=c(8732),e=c(2015);let f=(0,e.createContext)(void 0),g=({children:a})=>{let[b,c]=(0,e.useState)("main"),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(null),m=a=>{c(a),window.scrollTo(0,0)},n=(0,e.useCallback)(()=>{l(null)},[]);return(0,d.jsx)(f.Provider,{value:{page:b,navigateTo:m,isModalOpen:g,modalImage:i,openModal:a=>{j(a),h(!0)},closeModal:()=>{h(!1),j(null)},itemToLoad:k,onItemLoaded:n,loadItem:a=>{l(a),m("main")}},children:a})},h=()=>{let a=(0,e.useContext)(f);if(void 0===a)throw Error("useApp must be used within an AppProvider");return a}},1766:(a,b,c)=>{"use strict";c.d(b,{d:()=>i,t:()=>h});var d=c(8732),e=c(2015);let f=(0,e.createContext)(void 0),g=0,h=({children:a})=>{let[b,c]=(0,e.useState)([]),h=(0,e.useCallback)((a,b)=>{let d=g++;c(c=>[...c,{id:d,message:a,type:b}])},[]),i=(0,e.useCallback)(a=>{c(b=>b.filter(b=>b.id!==a))},[]);return(0,d.jsx)(f.Provider,{value:{toasts:b,addToast:h,removeToast:i},children:a})},i=()=>{let a=(0,e.useContext)(f);if(void 0===a)throw Error("useToast must be used within a ToastProvider");return a}},2533:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>z});var d=c(8732),e=c(2015),f=c(3538),g=c(3571),h=c(410),i=c(9055),j=c(1766);c(4871);var k=c(1302),l=c(9918),m=c.n(l),n=c(4233);let o=()=>{let a=(0,n.useRouter)(),[b,c]=(0,e.useState)(!1);return(0,d.jsxs)("header",{className:"bg-white dark:bg-gray-800 shadow-md relative",children:[(0,d.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,d.jsxs)(m(),{href:"/",className:"flex items-center cursor-pointer",children:[(0,d.jsx)(k.hK,{className:"h-8 w-8 md:h-10 md:w-10 text-emerald-600 mr-2 md:mr-3"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-lg md:text-2xl font-bold text-gray-800 dark:text-gray-100",children:"AI Landscaping Redesigner"}),(0,d.jsx)("p",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400",children:"Transform your outdoor space with the power of AI"})]})]}),(0,d.jsxs)("nav",{className:"hidden md:flex items-center space-x-2",children:[(0,d.jsx)(m(),{href:"/",className:`px-2 md:px-4 py-2 rounded-md text-xs md:text-sm font-medium transition-colors ${"/"===a.pathname?"bg-emerald-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Designer"}),(0,d.jsx)(m(),{href:"/HistoryPage",className:`px-2 md:px-4 py-2 rounded-md text-xs md:text-sm font-medium transition-colors ${"/HistoryPage"===a.pathname?"bg-emerald-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"History"})]}),(0,d.jsxs)("button",{onClick:()=>c(!b),className:"md:hidden p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500","aria-label":"Toggle menu",children:[(0,d.jsx)("span",{className:"block w-5 h-0.5 bg-gray-800 dark:bg-gray-200 mb-1"}),(0,d.jsx)("span",{className:"block w-5 h-0.5 bg-gray-800 dark:bg-gray-200 mb-1"}),(0,d.jsx)("span",{className:"block w-5 h-0.5 bg-gray-800 dark:bg-gray-200"})]})]}),b&&(0,d.jsx)("div",{className:"md:hidden bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:(0,d.jsxs)("div",{className:"container mx-auto px-4 py-4 flex flex-col space-y-2",children:[(0,d.jsx)(m(),{href:"/",onClick:()=>c(!1),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${"/"===a.pathname?"bg-emerald-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Designer"}),(0,d.jsx)(m(),{href:"/HistoryPage",onClick:()=>c(!1),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${"/HistoryPage"===a.pathname?"bg-emerald-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"History"})]})})]})},p=({href:a,children:b})=>(0,d.jsx)(m(),{href:a,className:"text-sm text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 font-medium transition-colors",children:b}),q=()=>{let a=(0,g.useSupabaseClient)(),b=(0,g.useUser)();return(0,d.jsx)("footer",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:(0,d.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,d.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex flex-wrap justify-center md:justify-start gap-x-6 gap-y-2 mb-4 md:mb-0",children:[(0,d.jsx)(p,{href:"/PricingPage",children:"Pricing"}),(0,d.jsx)(p,{href:"/ContactPage",children:"Contact"}),(0,d.jsx)(p,{href:"/TermsPage",children:"Terms of Service"}),(0,d.jsx)(p,{href:"/PrivacyPage",children:"Privacy Policy"}),b&&(0,d.jsx)("button",{onClick:()=>a.auth.signOut(),className:"text-sm text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 font-medium transition-colors",children:"Sign Out"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("a",{href:"your-polar-project-url",target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)("img",{src:"https://polar.sh/embed/fund-us.svg",alt:"Fund us on Polar"})}),(0,d.jsxs)("a",{href:"mailto:feedback@example.com?subject=Feedback%20for%20AI%20Landscaping%20Redesigner",className:"inline-flex items-center bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800 focus:ring-emerald-500",children:[(0,d.jsx)(k.vEG,{className:"h-5 w-5 mr-2"}),"Provide Feedback"]})]})]}),(0,d.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700 text-center text-sm text-gray-500 dark:text-gray-400",children:(0,d.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," AI Landscaping Redesigner. All Rights Reserved."]})})]})})};var r=c(8306);let s=({imageUrl:a,onClose:b})=>{let c=(0,e.useRef)(null);return(a=>{let b=(0,e.useRef)(null);(0,e.useEffect)(()=>{if(!a.current)return;b.current=document.activeElement;let c=Array.from(a.current.querySelectorAll('a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])'));if(0===c.length)return;let d=c[0],e=c[c.length-1];d.focus();let f=a=>{"Tab"===a.key&&(a.shiftKey?document.activeElement===d&&(a.preventDefault(),e.focus()):document.activeElement===e&&(a.preventDefault(),d.focus()))};return a.current.addEventListener("keydown",f),()=>{a.current?.removeEventListener("keydown",f),b.current?.focus()}},[a])})(c),(0,e.useEffect)(()=>{let a=a=>{"Escape"===a.key&&b()};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[b]),(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 backdrop-blur-sm z-50 flex justify-center items-center p-4",onClick:b,role:"dialog","aria-modal":"true","aria-label":"Enlarged image view",children:(0,d.jsxs)("div",{ref:c,className:"relative bg-gray-900 rounded-lg shadow-2xl overflow-hidden w-full h-full max-w-7xl max-h-[90vh]",onClick:a=>a.stopPropagation(),children:[(0,d.jsx)(r.x,{src:a,alt:"Enlarged view"}),(0,d.jsx)("button",{onClick:b,className:"absolute top-3 right-3 bg-black/50 text-white rounded-full h-8 w-8 flex items-center justify-center hover:bg-black/75 transition-colors focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Close",children:(0,d.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})},t={success:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),error:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),info:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},u={success:"bg-emerald-500 border-emerald-600",error:"bg-red-500 border-red-600",info:"bg-sky-500 border-sky-600"},v=({toast:a,onDismiss:b})=>{let[c,f]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{let c=setTimeout(()=>{f(!0),setTimeout(()=>b(a.id),300)},5e3);return()=>clearTimeout(c)},[a.id,b]),(0,d.jsxs)("div",{role:"alert",className:`
        w-full max-w-sm rounded-lg shadow-2xl p-4 text-white flex items-center
        ${u[a.type]}
        transition-all duration-300 ease-in-out
        ${c?"opacity-0 translate-y-4":"opacity-100 translate-y-0"}
      `,children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:t[a.type]}),(0,d.jsx)("div",{className:"ml-3 text-sm font-medium",children:a.message}),(0,d.jsx)("button",{onClick:()=>{f(!0),setTimeout(()=>b(a.id),300)},className:"ml-auto -mx-1.5 -my-1.5 p-1.5 rounded-lg inline-flex h-8 w-8 hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Dismiss",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},w=()=>{let{toasts:a,removeToast:b}=(0,j.d)();return(0,d.jsx)("div",{"aria-live":"assertive",className:"fixed inset-0 flex flex-col items-end justify-start px-4 py-6 pointer-events-none sm:p-6 z-50 space-y-4",children:a.map(a=>(0,d.jsx)(v,{toast:a,onDismiss:b},a.id))})},x=({children:a,isModalOpen:b,modalImage:c,closeModal:e})=>(0,d.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-200 font-sans",children:[(0,d.jsx)(o,{}),(0,d.jsx)("main",{className:"flex-grow container mx-auto px-4 py-8",children:a}),b&&c&&(0,d.jsx)(s,{imageUrl:c,onClose:e}),(0,d.jsx)(q,{}),(0,d.jsx)(w,{})]});function y({Component:a,pageProps:b,router:c}){let{isModalOpen:e,modalImage:f,closeModal:g}=(0,h.n)();return(0,d.jsx)(x,{isModalOpen:e,modalImage:f,closeModal:g,children:(0,d.jsx)(a,{...b})})}let z=function({Component:a,pageProps:b,router:c}){let[k]=(0,e.useState)(()=>(0,f.createPagesBrowserClient)());return(0,d.jsx)(g.SessionContextProvider,{supabaseClient:k,initialSession:b.initialSession,children:(0,d.jsx)(h.D,{children:(0,d.jsx)(j.t,{children:(0,d.jsx)(i.o,{children:(0,d.jsx)(y,{Component:a,pageProps:b,router:c})})})})})}},4871:()=>{},8306:(a,b,c)=>{"use strict";c.d(b,{x:()=>f});var d=c(8732),e=c(2015);let f=({src:a,alt:b})=>{let[c,f]=(0,e.useState)(!0);return(0,d.jsxs)("div",{className:"absolute inset-0 w-full h-full",children:[c&&(0,d.jsx)("div",{className:"w-full h-full bg-gray-300 dark:bg-gray-700 animate-pulse"}),(0,d.jsx)("img",{src:a,alt:b,className:`w-full h-full object-cover transition-opacity duration-300 ${c?"opacity-0":"opacity-100"}`,onLoad:()=>f(!1),onError:()=>f(!1)})]})}},9055:(a,b,c)=>{"use strict";c.d(b,{W:()=>k,o:()=>j});var d=c(8732),e=c(2015),f=c(3571),g=c(1766),h=c(410);let i=(0,e.createContext)(void 0),j=({children:a})=>{let[b,c]=(0,e.useState)([]),j=(0,f.useSupabaseClient)(),k=(0,f.useUser)(),{addToast:l}=(0,g.d)(),{loadItem:m}=(0,h.n)(),n=(0,e.useCallback)(async()=>{if(k)try{let{data:a,error:b}=await j.from("designs").select("*").eq("user_id",k.id).order("created_at",{ascending:!1});if(b)throw b;c(a||[])}catch(a){console.error("Error fetching history:",a),l("Could not load your design history.","error")}},[j,k,l]);(0,e.useEffect)(()=>{n()},[n]);let o=(0,e.useCallback)(a=>{c(b=>[a,...b])},[]),p=(0,e.useCallback)(async a=>{try{let{error:b}=await j.from("designs").delete().match({id:a});if(b)throw b;c(b=>b.filter(b=>b.id!==a)),l("Item deleted from history.","info")}catch(a){console.error("Error deleting item:",a),l("Failed to delete item.","error")}},[j,l]),q=(0,e.useCallback)(async a=>{let d=b.find(b=>b.id===a);if(d)try{let{data:b,error:e}=await j.from("designs").update({is_pinned:!d.is_pinned}).match({id:a}).select().single();if(e)throw e;c(c=>c.map(c=>c.id===a?b:c)),l(b.is_pinned?"Item pinned!":"Item unpinned.","success")}catch(a){console.error("Error pinning item:",a),l("Failed to update pin status.","error")}},[j,b,l]),r=(0,e.useCallback)(a=>{m(a)},[m]);return(0,d.jsx)(i.Provider,{value:{history:b,addNewRedesignToHistory:o,deleteItem:p,pinItem:q,viewFromHistory:r},children:a})},k=()=>{let a=(0,e.useContext)(i);if(void 0===a)throw Error("useHistory must be used within a HistoryProvider");return a}}};